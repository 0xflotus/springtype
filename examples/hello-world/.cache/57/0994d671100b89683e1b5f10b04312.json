{"id":"../../../dist/di/src/decorator/Component.js","dependencies":[{"name":"/Users/aron/IdeaProjects/springtype-incubator/dist/di/src/decorator/Component.js.map","includedInParent":true,"mtime":1538586880564},{"name":"/Users/aron/IdeaProjects/springtype-incubator/src/di/src/decorator/Component.ts","includedInParent":true,"mtime":1538585143819},{"name":"/Users/aron/IdeaProjects/springtype-incubator/examples/hello-world/package.json","includedInParent":true,"mtime":1538585088056},{"name":"reflect-metadata","loc":{"line":3,"column":8},"parent":"/Users/aron/IdeaProjects/springtype-incubator/dist/di/src/decorator/Component.js","resolved":"/Users/aron/IdeaProjects/springtype-incubator/node_modules/reflect-metadata/Reflect.js"},{"name":"./Inject","loc":{"line":4,"column":25},"parent":"/Users/aron/IdeaProjects/springtype-incubator/dist/di/src/decorator/Component.js","resolved":"/Users/aron/IdeaProjects/springtype-incubator/dist/di/src/decorator/Inject.js"},{"name":"../ComponentReflector","loc":{"line":5,"column":37},"parent":"/Users/aron/IdeaProjects/springtype-incubator/dist/di/src/decorator/Component.js","resolved":"/Users/aron/IdeaProjects/springtype-incubator/dist/di/src/ComponentReflector.js"},{"name":"../ApplicationContext","loc":{"line":6,"column":37},"parent":"/Users/aron/IdeaProjects/springtype-incubator/dist/di/src/decorator/Component.js","resolved":"/Users/aron/IdeaProjects/springtype-incubator/dist/di/src/ApplicationContext.js"}],"generated":{"js":"\"use strict\";\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance\"); }\n\nfunction _iterableToArray(iter) { if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nrequire(\"reflect-metadata\");\n\nvar Inject_1 = require(\"./Inject\");\n\nvar ComponentReflector_1 = require(\"../ComponentReflector\");\n\nvar ApplicationContext_1 = require(\"../ApplicationContext\");\n\nfunction registerBean(componentCtor, beanConfig) {\n  // @Inject decorators that may be defined inside of the class definition\n  // this @Component decorator is bound to, are processed first.\n  // This call collects it's meta data so the BeanFactory can\n  // handle the constructor parameter value injection correctly.\n  var parameterInjectionMetaData = Reflect.getOwnMetadata(Inject_1.INJECT_DECORATOR_METADATA_KEY, componentCtor, componentCtor.name);\n  ComponentReflector_1.ComponentReflector.register(componentCtor, parameterInjectionMetaData, beanConfig); // a generic intermediate class is conjured, inheriting the class\n  // the decorator is bound to. This keeps the prototype chain and later\n  // instanceof checks sane. It is necessary, because we want to\n  // *replace* the constructor with one that resolves it's arguments by itself (injection)\n  // and is capable of even handling @Inject decorators in it constructor arguments (wohoo)\n\n  var InjectionClassProxy =\n  /*#__PURE__*/\n  function (_componentCtor) {\n    _inherits(InjectionClassProxy, _componentCtor);\n\n    function InjectionClassProxy() {\n      var _getPrototypeOf2;\n\n      _classCallCheck(this, InjectionClassProxy);\n\n      return _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(InjectionClassProxy)).call.apply(_getPrototypeOf2, [this].concat(_toConsumableArray(ApplicationContext_1.ApplicationContext.getInstance().resolveConstructorArguments(componentCtor)))));\n    }\n\n    return InjectionClassProxy;\n  }(componentCtor);\n\n  ComponentReflector_1.ComponentReflector.registerDerived(componentCtor, InjectionClassProxy);\n  ApplicationContext_1.ApplicationContext.getInstance().setComponent(InjectionClassProxy); // just replace the original class declaration by our generic one\n\n  return InjectionClassProxy;\n}\n\nfunction Component(beanConfigOrCtor) {\n  // called with @Component - no beanConfig object\n  if (!(typeof beanConfigOrCtor === 'function')) {\n    return function (target) {\n      return registerBean(target, beanConfigOrCtor);\n    };\n  } else {\n    // called with @Component() or @Component({ ... })\n    return registerBean(beanConfigOrCtor);\n  }\n}\n\nexports.Component = Component;","map":{"mappings":[{"source":"../../../../src/di/src/decorator/Component.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":29,"column":0}},{"source":"../../../../src/di/src/decorator/Component.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":29,"column":7}},{"source":"../../../../src/di/src/decorator/Component.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":29,"column":8}},{"source":"../../../../src/di/src/decorator/Component.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":29,"column":26}},{"source":"../../../../src/di/src/decorator/Component.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":29,"column":27}},{"source":"../../../../src/di/src/decorator/Component.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":31,"column":0}},{"source":"../../../../src/di/src/decorator/Component.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":31,"column":4}},{"source":"../../../../src/di/src/decorator/Component.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":31,"column":12}},{"source":"../../../../src/di/src/decorator/Component.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":31,"column":15}},{"source":"../../../../src/di/src/decorator/Component.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":31,"column":22}},{"source":"../../../../src/di/src/decorator/Component.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":31,"column":23}},{"source":"../../../../src/di/src/decorator/Component.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":31,"column":33}},{"source":"../../../../src/di/src/decorator/Component.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":31,"column":34}},{"source":"../../../../src/di/src/decorator/Component.ts","name":null,"original":{"line":6,"column":0},"generated":{"line":33,"column":0}},{"source":"../../../../src/di/src/decorator/Component.ts","name":null,"original":{"line":6,"column":0},"generated":{"line":33,"column":4}},{"source":"../../../../src/di/src/decorator/Component.ts","name":null,"original":{"line":6,"column":0},"generated":{"line":33,"column":24}},{"source":"../../../../src/di/src/decorator/Component.ts","name":null,"original":{"line":6,"column":0},"generated":{"line":33,"column":27}},{"source":"../../../../src/di/src/decorator/Component.ts","name":null,"original":{"line":6,"column":0},"generated":{"line":33,"column":34}},{"source":"../../../../src/di/src/decorator/Component.ts","name":null,"original":{"line":6,"column":0},"generated":{"line":33,"column":35}},{"source":"../../../../src/di/src/decorator/Component.ts","name":null,"original":{"line":6,"column":0},"generated":{"line":33,"column":58}},{"source":"../../../../src/di/src/decorator/Component.ts","name":null,"original":{"line":6,"column":0},"generated":{"line":33,"column":59}},{"source":"../../../../src/di/src/decorator/Component.ts","name":null,"original":{"line":7,"column":0},"generated":{"line":35,"column":0}},{"source":"../../../../src/di/src/decorator/Component.ts","name":null,"original":{"line":7,"column":0},"generated":{"line":35,"column":4}},{"source":"../../../../src/di/src/decorator/Component.ts","name":null,"original":{"line":7,"column":0},"generated":{"line":35,"column":24}},{"source":"../../../../src/di/src/decorator/Component.ts","name":null,"original":{"line":7,"column":0},"generated":{"line":35,"column":27}},{"source":"../../../../src/di/src/decorator/Component.ts","name":null,"original":{"line":7,"column":0},"generated":{"line":35,"column":34}},{"source":"../../../../src/di/src/decorator/Component.ts","name":null,"original":{"line":7,"column":0},"generated":{"line":35,"column":35}},{"source":"../../../../src/di/src/decorator/Component.ts","name":null,"original":{"line":7,"column":0},"generated":{"line":35,"column":58}},{"source":"../../../../src/di/src/decorator/Component.ts","name":null,"original":{"line":7,"column":0},"generated":{"line":35,"column":59}},{"source":"../../../../src/di/src/decorator/Component.ts","name":null,"original":{"line":19,"column":0},"generated":{"line":37,"column":0}},{"source":"../../../../src/di/src/decorator/Component.ts","name":null,"original":{"line":19,"column":9},"generated":{"line":37,"column":9}},{"source":"../../../../src/di/src/decorator/Component.ts","name":null,"original":{"line":19,"column":0},"generated":{"line":37,"column":21}},{"source":"../../../../src/di/src/decorator/Component.ts","name":null,"original":{"line":19,"column":49},"generated":{"line":37,"column":22}},{"source":"../../../../src/di/src/decorator/Component.ts","name":null,"original":{"line":19,"column":0},"generated":{"line":37,"column":35}},{"source":"../../../../src/di/src/decorator/Component.ts","name":null,"original":{"line":19,"column":67},"generated":{"line":37,"column":37}},{"source":"../../../../src/di/src/decorator/Component.ts","name":null,"original":{"line":19,"column":0},"generated":{"line":37,"column":47}},{"source":"../../../../src/di/src/decorator/Component.ts","name":null,"original":{"line":19,"column":93},"generated":{"line":37,"column":49}},{"source":"../../../../src/di/src/decorator/Component.ts","name":null,"original":{"line":21,"column":4},"generated":{"line":38,"column":0}},{"source":"../../../../src/di/src/decorator/Component.ts","name":null,"original":{"line":22,"column":4},"generated":{"line":39,"column":0}},{"source":"../../../../src/di/src/decorator/Component.ts","name":null,"original":{"line":23,"column":4},"generated":{"line":40,"column":0}},{"source":"../../../../src/di/src/decorator/Component.ts","name":null,"original":{"line":24,"column":4},"generated":{"line":41,"column":0}},{"source":"../../../../src/di/src/decorator/Component.ts","name":null,"original":{"line":25,"column":4},"generated":{"line":42,"column":0}},{"source":"../../../../src/di/src/decorator/Component.ts","name":null,"original":{"line":25,"column":10},"generated":{"line":42,"column":6}},{"source":"../../../../src/di/src/decorator/Component.ts","name":null,"original":{"line":25,"column":36},"generated":{"line":42,"column":32}},{"source":"../../../../src/di/src/decorator/Component.ts","name":null,"original":{"line":25,"column":67},"generated":{"line":42,"column":35}},{"source":"../../../../src/di/src/decorator/Component.ts","name":null,"original":{"line":25,"column":74},"generated":{"line":42,"column":42}},{"source":"../../../../src/di/src/decorator/Component.ts","name":null,"original":{"line":25,"column":75},"generated":{"line":42,"column":43}},{"source":"../../../../src/di/src/decorator/Component.ts","name":null,"original":{"line":25,"column":67},"generated":{"line":42,"column":57}},{"source":"../../../../src/di/src/decorator/Component.ts","name":null,"original":{"line":26,"column":8},"generated":{"line":42,"column":58}},{"source":"../../../../src/di/src/decorator/Component.ts","name":null,"original":{"line":26,"column":8},"generated":{"line":42,"column":66}},{"source":"../../../../src/di/src/decorator/Component.ts","name":null,"original":{"line":26,"column":8},"generated":{"line":42,"column":67}},{"source":"../../../../src/di/src/decorator/Component.ts","name":null,"original":{"line":25,"column":67},"generated":{"line":42,"column":96}},{"source":"../../../../src/di/src/decorator/Component.ts","name":null,"original":{"line":26,"column":39},"generated":{"line":42,"column":98}},{"source":"../../../../src/di/src/decorator/Component.ts","name":null,"original":{"line":25,"column":67},"generated":{"line":42,"column":111}},{"source":"../../../../src/di/src/decorator/Component.ts","name":null,"original":{"line":26,"column":54},"generated":{"line":42,"column":113}},{"source":"../../../../src/di/src/decorator/Component.ts","name":null,"original":{"line":26,"column":67},"generated":{"line":42,"column":126}},{"source":"../../../../src/di/src/decorator/Component.ts","name":null,"original":{"line":26,"column":68},"generated":{"line":42,"column":127}},{"source":"../../../../src/di/src/decorator/Component.ts","name":null,"original":{"line":25,"column":67},"generated":{"line":42,"column":131}},{"source":"../../../../src/di/src/decorator/Component.ts","name":null,"original":{"line":25,"column":4},"generated":{"line":42,"column":132}},{"source":"../../../../src/di/src/decorator/Component.ts","name":null,"original":{"line":29,"column":4},"generated":{"line":43,"column":0}},{"source":"../../../../src/di/src/decorator/Component.ts","name":null,"original":{"line":29,"column":4},"generated":{"line":43,"column":2}},{"source":"../../../../src/di/src/decorator/Component.ts","name":null,"original":{"line":29,"column":4},"generated":{"line":43,"column":22}},{"source":"../../../../src/di/src/decorator/Component.ts","name":null,"original":{"line":29,"column":4},"generated":{"line":43,"column":23}},{"source":"../../../../src/di/src/decorator/Component.ts","name":null,"original":{"line":29,"column":4},"generated":{"line":43,"column":41}},{"source":"../../../../src/di/src/decorator/Component.ts","name":null,"original":{"line":29,"column":23},"generated":{"line":43,"column":42}},{"source":"../../../../src/di/src/decorator/Component.ts","name":null,"original":{"line":29,"column":4},"generated":{"line":43,"column":50}},{"source":"../../../../src/di/src/decorator/Component.ts","name":null,"original":{"line":29,"column":32},"generated":{"line":43,"column":51}},{"source":"../../../../src/di/src/decorator/Component.ts","name":null,"original":{"line":29,"column":4},"generated":{"line":43,"column":64}},{"source":"../../../../src/di/src/decorator/Component.ts","name":null,"original":{"line":29,"column":47},"generated":{"line":43,"column":66}},{"source":"../../../../src/di/src/decorator/Component.ts","name":null,"original":{"line":29,"column":4},"generated":{"line":43,"column":92}},{"source":"../../../../src/di/src/decorator/Component.ts","name":null,"original":{"line":29,"column":75},"generated":{"line":43,"column":94}},{"source":"../../../../src/di/src/decorator/Component.ts","name":null,"original":{"line":29,"column":4},"generated":{"line":43,"column":104}},{"source":"../../../../src/di/src/decorator/Component.ts","name":null,"original":{"line":19,"column":93},"generated":{"line":43,"column":106}},{"source":"../../../../src/di/src/decorator/Component.ts","name":null,"original":{"line":31,"column":4},"generated":{"line":43,"column":107}},{"source":"../../../../src/di/src/decorator/Component.ts","name":null,"original":{"line":32,"column":4},"generated":{"line":44,"column":0}},{"source":"../../../../src/di/src/decorator/Component.ts","name":null,"original":{"line":33,"column":4},"generated":{"line":45,"column":0}},{"source":"../../../../src/di/src/decorator/Component.ts","name":null,"original":{"line":34,"column":4},"generated":{"line":46,"column":0}},{"source":"../../../../src/di/src/decorator/Component.ts","name":null,"original":{"line":35,"column":4},"generated":{"line":47,"column":0}},{"source":"../../../../src/di/src/decorator/Component.ts","name":null,"original":{"line":36,"column":4},"generated":{"line":49,"column":0}},{"source":"../../../../src/di/src/decorator/Component.ts","name":null,"original":{"line":36,"column":10},"generated":{"line":49,"column":6}},{"source":"../../../../src/di/src/decorator/Component.ts","name":null,"original":{"line":36,"column":29},"generated":{"line":49,"column":25}},{"source":"../../../../src/di/src/decorator/Component.ts","name":null,"original":{"line":36,"column":29},"generated":{"line":50,"column":0}},{"source":"../../../../src/di/src/decorator/Component.ts","name":null,"original":{"line":36,"column":29},"generated":{"line":51,"column":0}},{"source":"../../../../src/di/src/decorator/Component.ts","name":null,"original":{"line":36,"column":29},"generated":{"line":52,"column":0}},{"source":"../../../../src/di/src/decorator/Component.ts","name":null,"original":{"line":37,"column":8},"generated":{"line":54,"column":0}},{"source":"../../../../src/di/src/decorator/Component.ts","name":null,"original":{"line":37,"column":39},"generated":{"line":54,"column":35}},{"source":"../../../../src/di/src/decorator/Component.ts","name":null,"original":{"line":37,"column":39},"generated":{"line":55,"column":0}},{"source":"../../../../src/di/src/decorator/Component.ts","name":null,"original":{"line":37,"column":39},"generated":{"line":57,"column":0}},{"source":"../../../../src/di/src/decorator/Component.ts","name":null,"original":{"line":37,"column":39},"generated":{"line":59,"column":0}},{"source":"../../../../src/di/src/decorator/Component.ts","name":null,"original":{"line":38,"column":21},"generated":{"line":59,"column":166}},{"source":"../../../../src/di/src/decorator/Component.ts","name":null,"original":{"line":38,"column":21},"generated":{"line":59,"column":186}},{"source":"../../../../src/di/src/decorator/Component.ts","name":null,"original":{"line":38,"column":21},"generated":{"line":59,"column":187}},{"source":"../../../../src/di/src/decorator/Component.ts","name":null,"original":{"line":38,"column":21},"generated":{"line":59,"column":205}},{"source":"../../../../src/di/src/decorator/Component.ts","name":null,"original":{"line":38,"column":40},"generated":{"line":59,"column":206}},{"source":"../../../../src/di/src/decorator/Component.ts","name":null,"original":{"line":38,"column":21},"generated":{"line":59,"column":217}},{"source":"../../../../src/di/src/decorator/Component.ts","name":null,"original":{"line":38,"column":54},"generated":{"line":59,"column":220}},{"source":"../../../../src/di/src/decorator/Component.ts","name":null,"original":{"line":38,"column":21},"generated":{"line":59,"column":247}},{"source":"../../../../src/di/src/decorator/Component.ts","name":null,"original":{"line":38,"column":82},"generated":{"line":59,"column":248}},{"source":"../../../../src/di/src/decorator/Component.ts","name":null,"original":{"line":38,"column":21},"generated":{"line":59,"column":261}},{"source":"../../../../src/di/src/decorator/Component.ts","name":null,"original":{"line":37,"column":39},"generated":{"line":59,"column":262}},{"source":"../../../../src/di/src/decorator/Component.ts","name":null,"original":{"line":39,"column":9},"generated":{"line":60,"column":0}},{"source":"../../../../src/di/src/decorator/Component.ts","name":null,"original":{"line":36,"column":29},"generated":{"line":62,"column":0}},{"source":"../../../../src/di/src/decorator/Component.ts","name":null,"original":{"line":36,"column":29},"generated":{"line":63,"column":0}},{"source":"../../../../src/di/src/decorator/Component.ts","name":null,"original":{"line":36,"column":46},"generated":{"line":63,"column":4}},{"source":"../../../../src/di/src/decorator/Component.ts","name":null,"original":{"line":36,"column":29},"generated":{"line":63,"column":17}},{"source":"../../../../src/di/src/decorator/Component.ts","name":null,"original":{"line":36,"column":4},"generated":{"line":63,"column":18}},{"source":"../../../../src/di/src/decorator/Component.ts","name":null,"original":{"line":42,"column":4},"generated":{"line":65,"column":0}},{"source":"../../../../src/di/src/decorator/Component.ts","name":null,"original":{"line":42,"column":4},"generated":{"line":65,"column":2}},{"source":"../../../../src/di/src/decorator/Component.ts","name":null,"original":{"line":42,"column":4},"generated":{"line":65,"column":22}},{"source":"../../../../src/di/src/decorator/Component.ts","name":null,"original":{"line":42,"column":4},"generated":{"line":65,"column":23}},{"source":"../../../../src/di/src/decorator/Component.ts","name":null,"original":{"line":42,"column":4},"generated":{"line":65,"column":41}},{"source":"../../../../src/di/src/decorator/Component.ts","name":null,"original":{"line":42,"column":23},"generated":{"line":65,"column":42}},{"source":"../../../../src/di/src/decorator/Component.ts","name":null,"original":{"line":42,"column":4},"generated":{"line":65,"column":57}},{"source":"../../../../src/di/src/decorator/Component.ts","name":null,"original":{"line":42,"column":39},"generated":{"line":65,"column":58}},{"source":"../../../../src/di/src/decorator/Component.ts","name":null,"original":{"line":42,"column":4},"generated":{"line":65,"column":71}},{"source":"../../../../src/di/src/decorator/Component.ts","name":null,"original":{"line":42,"column":54},"generated":{"line":65,"column":73}},{"source":"../../../../src/di/src/decorator/Component.ts","name":null,"original":{"line":42,"column":4},"generated":{"line":65,"column":92}},{"source":"../../../../src/di/src/decorator/Component.ts","name":null,"original":{"line":44,"column":4},"generated":{"line":66,"column":0}},{"source":"../../../../src/di/src/decorator/Component.ts","name":null,"original":{"line":44,"column":4},"generated":{"line":66,"column":2}},{"source":"../../../../src/di/src/decorator/Component.ts","name":null,"original":{"line":44,"column":4},"generated":{"line":66,"column":22}},{"source":"../../../../src/di/src/decorator/Component.ts","name":null,"original":{"line":44,"column":4},"generated":{"line":66,"column":23}},{"source":"../../../../src/di/src/decorator/Component.ts","name":null,"original":{"line":44,"column":4},"generated":{"line":66,"column":41}},{"source":"../../../../src/di/src/decorator/Component.ts","name":null,"original":{"line":44,"column":23},"generated":{"line":66,"column":42}},{"source":"../../../../src/di/src/decorator/Component.ts","name":null,"original":{"line":44,"column":4},"generated":{"line":66,"column":53}},{"source":"../../../../src/di/src/decorator/Component.ts","name":null,"original":{"line":44,"column":37},"generated":{"line":66,"column":56}},{"source":"../../../../src/di/src/decorator/Component.ts","name":null,"original":{"line":44,"column":4},"generated":{"line":66,"column":68}},{"source":"../../../../src/di/src/decorator/Component.ts","name":null,"original":{"line":44,"column":50},"generated":{"line":66,"column":69}},{"source":"../../../../src/di/src/decorator/Component.ts","name":null,"original":{"line":44,"column":4},"generated":{"line":66,"column":88}},{"source":"../../../../src/di/src/decorator/Component.ts","name":null,"original":{"line":19,"column":93},"generated":{"line":66,"column":90}},{"source":"../../../../src/di/src/decorator/Component.ts","name":null,"original":{"line":46,"column":4},"generated":{"line":66,"column":91}},{"source":"../../../../src/di/src/decorator/Component.ts","name":null,"original":{"line":47,"column":4},"generated":{"line":68,"column":0}},{"source":"../../../../src/di/src/decorator/Component.ts","name":null,"original":{"line":47,"column":11},"generated":{"line":68,"column":9}},{"source":"../../../../src/di/src/decorator/Component.ts","name":null,"original":{"line":47,"column":4},"generated":{"line":68,"column":28}},{"source":"../../../../src/di/src/decorator/Component.ts","name":null,"original":{"line":48,"column":1},"generated":{"line":69,"column":0}},{"source":"../../../../src/di/src/decorator/Component.ts","name":null,"original":{"line":50,"column":0},"generated":{"line":71,"column":0}},{"source":"../../../../src/di/src/decorator/Component.ts","name":null,"original":{"line":50,"column":16},"generated":{"line":71,"column":9}},{"source":"../../../../src/di/src/decorator/Component.ts","name":null,"original":{"line":50,"column":0},"generated":{"line":71,"column":18}},{"source":"../../../../src/di/src/decorator/Component.ts","name":null,"original":{"line":50,"column":53},"generated":{"line":71,"column":19}},{"source":"../../../../src/di/src/decorator/Component.ts","name":null,"original":{"line":50,"column":0},"generated":{"line":71,"column":35}},{"source":"../../../../src/di/src/decorator/Component.ts","name":null,"original":{"line":50,"column":87},"generated":{"line":71,"column":37}},{"source":"../../../../src/di/src/decorator/Component.ts","name":null,"original":{"line":52,"column":4},"generated":{"line":72,"column":0}},{"source":"../../../../src/di/src/decorator/Component.ts","name":null,"original":{"line":53,"column":4},"generated":{"line":73,"column":0}},{"source":"../../../../src/di/src/decorator/Component.ts","name":null,"original":{"line":53,"column":8},"generated":{"line":73,"column":6}},{"source":"../../../../src/di/src/decorator/Component.ts","name":null,"original":{"line":53,"column":10},"generated":{"line":73,"column":8}},{"source":"../../../../src/di/src/decorator/Component.ts","name":null,"original":{"line":53,"column":17},"generated":{"line":73,"column":15}},{"source":"../../../../src/di/src/decorator/Component.ts","name":null,"original":{"line":53,"column":10},"generated":{"line":73,"column":31}},{"source":"../../../../src/di/src/decorator/Component.ts","name":null,"original":{"line":53,"column":38},"generated":{"line":73,"column":36}},{"source":"../../../../src/di/src/decorator/Component.ts","name":null,"original":{"line":53,"column":8},"generated":{"line":73,"column":46}},{"source":"../../../../src/di/src/decorator/Component.ts","name":null,"original":{"line":53,"column":4},"generated":{"line":73,"column":47}},{"source":"../../../../src/di/src/decorator/Component.ts","name":null,"original":{"line":53,"column":51},"generated":{"line":73,"column":49}},{"source":"../../../../src/di/src/decorator/Component.ts","name":null,"original":{"line":55,"column":8},"generated":{"line":74,"column":0}},{"source":"../../../../src/di/src/decorator/Component.ts","name":null,"original":{"line":55,"column":15},"generated":{"line":74,"column":11}},{"source":"../../../../src/di/src/decorator/Component.ts","name":null,"original":{"line":55,"column":16},"generated":{"line":74,"column":21}},{"source":"../../../../src/di/src/decorator/Component.ts","name":null,"original":{"line":55,"column":15},"generated":{"line":74,"column":27}},{"source":"../../../../src/di/src/decorator/Component.ts","name":null,"original":{"line":55,"column":29},"generated":{"line":74,"column":29}},{"source":"../../../../src/di/src/decorator/Component.ts","name":null,"original":{"line":56,"column":12},"generated":{"line":75,"column":0}},{"source":"../../../../src/di/src/decorator/Component.ts","name":null,"original":{"line":56,"column":19},"generated":{"line":75,"column":13}},{"source":"../../../../src/di/src/decorator/Component.ts","name":null,"original":{"line":56,"column":31},"generated":{"line":75,"column":25}},{"source":"../../../../src/di/src/decorator/Component.ts","name":null,"original":{"line":56,"column":32},"generated":{"line":75,"column":26}},{"source":"../../../../src/di/src/decorator/Component.ts","name":null,"original":{"line":56,"column":31},"generated":{"line":75,"column":32}},{"source":"../../../../src/di/src/decorator/Component.ts","name":null,"original":{"line":56,"column":56},"generated":{"line":75,"column":34}},{"source":"../../../../src/di/src/decorator/Component.ts","name":null,"original":{"line":56,"column":31},"generated":{"line":75,"column":50}},{"source":"../../../../src/di/src/decorator/Component.ts","name":null,"original":{"line":56,"column":12},"generated":{"line":75,"column":51}},{"source":"../../../../src/di/src/decorator/Component.ts","name":null,"original":{"line":57,"column":9},"generated":{"line":76,"column":0}},{"source":"../../../../src/di/src/decorator/Component.ts","name":null,"original":{"line":55,"column":8},"generated":{"line":76,"column":5}},{"source":"../../../../src/di/src/decorator/Component.ts","name":null,"original":{"line":59,"column":5},"generated":{"line":77,"column":0}},{"source":"../../../../src/di/src/decorator/Component.ts","name":null,"original":{"line":53,"column":4},"generated":{"line":77,"column":3}},{"source":"../../../../src/di/src/decorator/Component.ts","name":null,"original":{"line":59,"column":11},"generated":{"line":77,"column":9}},{"source":"../../../../src/di/src/decorator/Component.ts","name":null,"original":{"line":61,"column":8},"generated":{"line":78,"column":0}},{"source":"../../../../src/di/src/decorator/Component.ts","name":null,"original":{"line":62,"column":8},"generated":{"line":79,"column":0}},{"source":"../../../../src/di/src/decorator/Component.ts","name":null,"original":{"line":62,"column":15},"generated":{"line":79,"column":11}},{"source":"../../../../src/di/src/decorator/Component.ts","name":null,"original":{"line":62,"column":27},"generated":{"line":79,"column":23}},{"source":"../../../../src/di/src/decorator/Component.ts","name":null,"original":{"line":62,"column":32},"generated":{"line":79,"column":24}},{"source":"../../../../src/di/src/decorator/Component.ts","name":null,"original":{"line":62,"column":27},"generated":{"line":79,"column":40}},{"source":"../../../../src/di/src/decorator/Component.ts","name":null,"original":{"line":62,"column":8},"generated":{"line":79,"column":41}},{"source":"../../../../src/di/src/decorator/Component.ts","name":null,"original":{"line":63,"column":5},"generated":{"line":80,"column":0}},{"source":"../../../../src/di/src/decorator/Component.ts","name":null,"original":{"line":64,"column":1},"generated":{"line":81,"column":0}},{"source":"../../../../src/di/src/decorator/Component.ts","name":null,"original":{"line":50,"column":0},"generated":{"line":83,"column":0}},{"source":"../../../../src/di/src/decorator/Component.ts","name":null,"original":{"line":50,"column":0},"generated":{"line":83,"column":7}},{"source":"../../../../src/di/src/decorator/Component.ts","name":null,"original":{"line":50,"column":0},"generated":{"line":83,"column":8}},{"source":"../../../../src/di/src/decorator/Component.ts","name":null,"original":{"line":50,"column":0},"generated":{"line":83,"column":17}},{"source":"../../../../src/di/src/decorator/Component.ts","name":null,"original":{"line":50,"column":0},"generated":{"line":83,"column":20}},{"source":"../../../../src/di/src/decorator/Component.ts","name":null,"original":{"line":50,"column":0},"generated":{"line":83,"column":29}}],"sources":{"../../../../src/di/src/decorator/Component.ts":"import \"reflect-metadata\";\nimport {\n    INJECT_DECORATOR_METADATA_KEY,\n    ArgumentsInjectionMetaData,\n} from \"./Inject\";\nimport {ComponentReflector} from \"../ComponentReflector\";\nimport {ApplicationContext} from \"../ApplicationContext\";\n\nexport interface BeanConfig<T extends IComponent<any>> {\n\n    // reference to the component that should be used in test\n    mockedBy?: T;\n}\n\nexport interface IComponent<T> extends Function {\n    new(...args: any[]): T;\n}\n\nfunction registerBean<T extends IComponent<any>>(componentCtor: T, beanConfig?: BeanConfig<T>) {\n\n    // @Inject decorators that may be defined inside of the class definition\n    // this @Component decorator is bound to, are processed first.\n    // This call collects it's meta data so the BeanFactory can\n    // handle the constructor parameter value injection correctly.\n    const parameterInjectionMetaData: ArgumentsInjectionMetaData = Reflect.getOwnMetadata(\n        INJECT_DECORATOR_METADATA_KEY, componentCtor, componentCtor.name\n    );\n\n    ComponentReflector.register(componentCtor, parameterInjectionMetaData, beanConfig);\n\n    // a generic intermediate class is conjured, inheriting the class\n    // the decorator is bound to. This keeps the prototype chain and later\n    // instanceof checks sane. It is necessary, because we want to\n    // *replace* the constructor with one that resolves it's arguments by itself (injection)\n    // and is capable of even handling @Inject decorators in it constructor arguments (wohoo)\n    const InjectionClassProxy = class extends componentCtor {\n        constructor(...args: Array<any>) {\n            super(...ApplicationContext.getInstance().resolveConstructorArguments(componentCtor));\n        }\n    };\n\n    ComponentReflector.registerDerived(componentCtor, InjectionClassProxy);\n\n    ApplicationContext.getInstance().setComponent(InjectionClassProxy);\n\n    // just replace the original class declaration by our generic one\n    return InjectionClassProxy;\n}\n\nexport function Component<T extends IComponent<any>>(beanConfigOrCtor?: BeanConfig<T>|T): T|any {\n\n    // called with @Component - no beanConfig object\n    if (!(typeof beanConfigOrCtor === 'function')) {\n\n        return (target: T) => {\n            return registerBean(target, <BeanConfig<T>> beanConfigOrCtor);\n        }\n\n    } else {\n\n        // called with @Component() or @Component({ ... })\n        return registerBean(<T> beanConfigOrCtor);\n    }\n}"},"lineCount":null}},"hash":"25d5c367e821964684b1db368573fab7","cacheData":{"env":{}}}