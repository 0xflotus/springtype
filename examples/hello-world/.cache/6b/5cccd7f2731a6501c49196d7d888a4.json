{"id":"VoC4","dependencies":[{"name":"/Users/aron/IdeaProjects/springtype-incubator/dist/di/src/decorator/Inject.js.map","includedInParent":true,"mtime":1538586880554},{"name":"/Users/aron/IdeaProjects/springtype-incubator/src/di/src/decorator/Inject.ts","includedInParent":true,"mtime":1538255645651},{"name":"/Users/aron/IdeaProjects/springtype-incubator/examples/hello-world/package.json","includedInParent":true,"mtime":1538585088056},{"name":"reflect-metadata","loc":{"line":3,"column":8},"parent":"/Users/aron/IdeaProjects/springtype-incubator/dist/di/src/decorator/Inject.js","resolved":"/Users/aron/IdeaProjects/springtype-incubator/node_modules/reflect-metadata/Reflect.js"},{"name":"../BeanFactory","loc":{"line":4,"column":30},"parent":"/Users/aron/IdeaProjects/springtype-incubator/dist/di/src/decorator/Inject.js","resolved":"/Users/aron/IdeaProjects/springtype-incubator/dist/di/src/BeanFactory.js"},{"name":"../ComponentReflector","loc":{"line":5,"column":37},"parent":"/Users/aron/IdeaProjects/springtype-incubator/dist/di/src/decorator/Inject.js","resolved":"/Users/aron/IdeaProjects/springtype-incubator/dist/di/src/ComponentReflector.js"},{"name":"../ApplicationContext","loc":{"line":6,"column":37},"parent":"/Users/aron/IdeaProjects/springtype-incubator/dist/di/src/decorator/Inject.js","resolved":"/Users/aron/IdeaProjects/springtype-incubator/dist/di/src/ApplicationContext.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),require(\"reflect-metadata\");var e=require(\"../BeanFactory\"),t=require(\"../ComponentReflector\"),n=require(\"../ApplicationContext\");function o(){return{arguments:[]}}function r(o,r,a){var i;if(o.arguments[r]){var c=o.arguments[r].injectionReference;return void 0!==c&&(i=\"function\"==typeof c&&t.ComponentReflector.isComponent(c)?n.ApplicationContext.getInstance().getBean(c,a?e.InjectionProfile.TEST:e.InjectionProfile.DEFAULT,o.arguments[r].injectionStrategy):c),i}}function a(n){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.InjectionStrategy.SINGLETON;return function(e,r,a){\"function\"==typeof e?t.ComponentReflector.setConstructorArgumentsInjectionMetadata(e,a,n,o):t.ComponentReflector.setMethodArgumentsInjectionMetadata(e,a,r,n,o)}}exports.INJECT_DECORATOR_METADATA_KEY=Symbol(\"@Inject\"),exports.createDefaultArgumentsInjectionMetadata=o,exports.resolveInjectionParameterValue=r,exports.Inject=a;","map":{"mappings":[{"source":"../../../../src/di/src/decorator/Inject.ts","name":null,"original":{"line":67,"column":0},"generated":{"line":1,"column":0}},{"source":"../../../../src/di/src/decorator/Inject.ts","name":null,"original":{"line":67,"column":0},"generated":{"line":1,"column":13}},{"source":"../../../../src/di/src/decorator/Inject.ts","name":null,"original":{"line":67,"column":0},"generated":{"line":1,"column":20}},{"source":"../../../../src/di/src/decorator/Inject.ts","name":null,"original":{"line":67,"column":0},"generated":{"line":1,"column":35}},{"source":"../../../../src/di/src/decorator/Inject.ts","name":null,"original":{"line":67,"column":0},"generated":{"line":1,"column":43}},{"source":"../../../../src/di/src/decorator/Inject.ts","name":null,"original":{"line":67,"column":0},"generated":{"line":1,"column":56}},{"source":"../../../../src/di/src/decorator/Inject.ts","name":null,"original":{"line":67,"column":0},"generated":{"line":1,"column":57}},{"source":"../../../../src/di/src/decorator/Inject.ts","name":null,"original":{"line":67,"column":0},"generated":{"line":1,"column":64}},{"source":"../../../../src/di/src/decorator/Inject.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":68}},{"source":"../../../../src/di/src/decorator/Inject.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":76}},{"source":"../../../../src/di/src/decorator/Inject.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":1,"column":96}},{"source":"../../../../src/di/src/decorator/Inject.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":1,"column":100}},{"source":"../../../../src/di/src/decorator/Inject.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":1,"column":102}},{"source":"../../../../src/di/src/decorator/Inject.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":1,"column":110}},{"source":"../../../../src/di/src/decorator/Inject.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":128}},{"source":"../../../../src/di/src/decorator/Inject.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":130}},{"source":"../../../../src/di/src/decorator/Inject.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":138}},{"source":"../../../../src/di/src/decorator/Inject.ts","name":null,"original":{"line":4,"column":0},"generated":{"line":1,"column":163}},{"source":"../../../../src/di/src/decorator/Inject.ts","name":null,"original":{"line":4,"column":0},"generated":{"line":1,"column":165}},{"source":"../../../../src/di/src/decorator/Inject.ts","name":null,"original":{"line":4,"column":0},"generated":{"line":1,"column":173}},{"source":"../../../../src/di/src/decorator/Inject.ts","name":null,"original":{"line":18,"column":0},"generated":{"line":1,"column":198}},{"source":"../../../../src/di/src/decorator/Inject.ts","name":null,"original":{"line":18,"column":16},"generated":{"line":1,"column":207}},{"source":"../../../../src/di/src/decorator/Inject.ts","name":null,"original":{"line":19,"column":11},"generated":{"line":1,"column":211}},{"source":"../../../../src/di/src/decorator/Inject.ts","name":null,"original":{"line":19,"column":11},"generated":{"line":1,"column":217}},{"source":"../../../../src/di/src/decorator/Inject.ts","name":null,"original":{"line":20,"column":8},"generated":{"line":1,"column":218}},{"source":"../../../../src/di/src/decorator/Inject.ts","name":null,"original":{"line":20,"column":19},"generated":{"line":1,"column":228}},{"source":"../../../../src/di/src/decorator/Inject.ts","name":null,"original":{"line":26,"column":0},"generated":{"line":1,"column":232}},{"source":"../../../../src/di/src/decorator/Inject.ts","name":null,"original":{"line":26,"column":16},"generated":{"line":1,"column":241}},{"source":"../../../../src/di/src/decorator/Inject.ts","name":null,"original":{"line":27,"column":4},"generated":{"line":1,"column":243}},{"source":"../../../../src/di/src/decorator/Inject.ts","name":null,"original":{"line":28,"column":4},"generated":{"line":1,"column":245}},{"source":"../../../../src/di/src/decorator/Inject.ts","name":null,"original":{"line":29,"column":4},"generated":{"line":1,"column":247}},{"source":"../../../../src/di/src/decorator/Inject.ts","name":null,"original":{"line":32,"column":8},"generated":{"line":1,"column":250}},{"source":"../../../../src/di/src/decorator/Inject.ts","name":null,"original":{"line":32,"column":8},"generated":{"line":1,"column":254}},{"source":"../../../../src/di/src/decorator/Inject.ts","name":null,"original":{"line":34,"column":8},"generated":{"line":1,"column":256}},{"source":"../../../../src/di/src/decorator/Inject.ts","name":null,"original":{"line":34,"column":9},"generated":{"line":1,"column":259}},{"source":"../../../../src/di/src/decorator/Inject.ts","name":null,"original":{"line":34,"column":36},"generated":{"line":1,"column":261}},{"source":"../../../../src/di/src/decorator/Inject.ts","name":null,"original":{"line":34,"column":46},"generated":{"line":1,"column":271}},{"source":"../../../../src/di/src/decorator/Inject.ts","name":null,"original":{"line":34,"column":8},"generated":{"line":1,"column":274}},{"source":"../../../../src/di/src/decorator/Inject.ts","name":null,"original":{"line":36,"column":10},"generated":{"line":1,"column":275}},{"source":"../../../../src/di/src/decorator/Inject.ts","name":null,"original":{"line":36,"column":10},"generated":{"line":1,"column":279}},{"source":"../../../../src/di/src/decorator/Inject.ts","name":null,"original":{"line":37,"column":8},"generated":{"line":1,"column":281}},{"source":"../../../../src/di/src/decorator/Inject.ts","name":null,"original":{"line":37,"column":35},"generated":{"line":1,"column":283}},{"source":"../../../../src/di/src/decorator/Inject.ts","name":null,"original":{"line":37,"column":45},"generated":{"line":1,"column":293}},{"source":"../../../../src/di/src/decorator/Inject.ts","name":null,"original":{"line":37,"column":52},"generated":{"line":1,"column":296}},{"source":"../../../../src/di/src/decorator/Inject.ts","name":null,"original":{"line":64,"column":11},"generated":{"line":1,"column":315}},{"source":"../../../../src/di/src/decorator/Inject.ts","name":null,"original":{"line":39,"column":38},"generated":{"line":1,"column":327}},{"source":"../../../../src/di/src/decorator/Inject.ts","name":null,"original":{"line":39,"column":15},"generated":{"line":1,"column":331}},{"source":"../../../../src/di/src/decorator/Inject.ts","name":null,"original":{"line":46,"column":16},"generated":{"line":1,"column":335}},{"source":"../../../../src/di/src/decorator/Inject.ts","name":null,"original":{"line":41,"column":42},"generated":{"line":1,"column":337}},{"source":"../../../../src/di/src/decorator/Inject.ts","name":null,"original":{"line":41,"column":19},"generated":{"line":1,"column":356}},{"source":"../../../../src/di/src/decorator/Inject.ts","name":null,"original":{"line":43,"column":16},"generated":{"line":1,"column":359}},{"source":"../../../../src/di/src/decorator/Inject.ts","name":null,"original":{"line":43,"column":16},"generated":{"line":1,"column":361}},{"source":"../../../../src/di/src/decorator/Inject.ts","name":null,"original":{"line":43,"column":35},"generated":{"line":1,"column":380}},{"source":"../../../../src/di/src/decorator/Inject.ts","name":null,"original":{"line":43,"column":47},"generated":{"line":1,"column":392}},{"source":"../../../../src/di/src/decorator/Inject.ts","name":null,"original":{"line":46,"column":33},"generated":{"line":1,"column":395}},{"source":"../../../../src/di/src/decorator/Inject.ts","name":null,"original":{"line":46,"column":33},"generated":{"line":1,"column":397}},{"source":"../../../../src/di/src/decorator/Inject.ts","name":null,"original":{"line":46,"column":52},"generated":{"line":1,"column":416}},{"source":"../../../../src/di/src/decorator/Inject.ts","name":null,"original":{"line":46,"column":66},"generated":{"line":1,"column":430}},{"source":"../../../../src/di/src/decorator/Inject.ts","name":null,"original":{"line":47,"column":20},"generated":{"line":1,"column":438}},{"source":"../../../../src/di/src/decorator/Inject.ts","name":null,"original":{"line":48,"column":20},"generated":{"line":1,"column":440}},{"source":"../../../../src/di/src/decorator/Inject.ts","name":null,"original":{"line":48,"column":38},"generated":{"line":1,"column":442}},{"source":"../../../../src/di/src/decorator/Inject.ts","name":null,"original":{"line":48,"column":38},"generated":{"line":1,"column":444}},{"source":"../../../../src/di/src/decorator/Inject.ts","name":null,"original":{"line":48,"column":55},"generated":{"line":1,"column":461}},{"source":"../../../../src/di/src/decorator/Inject.ts","name":null,"original":{"line":48,"column":62},"generated":{"line":1,"column":466}},{"source":"../../../../src/di/src/decorator/Inject.ts","name":null,"original":{"line":48,"column":62},"generated":{"line":1,"column":468}},{"source":"../../../../src/di/src/decorator/Inject.ts","name":null,"original":{"line":48,"column":79},"generated":{"line":1,"column":485}},{"source":"../../../../src/di/src/decorator/Inject.ts","name":null,"original":{"line":49,"column":20},"generated":{"line":1,"column":493}},{"source":"../../../../src/di/src/decorator/Inject.ts","name":null,"original":{"line":49,"column":47},"generated":{"line":1,"column":495}},{"source":"../../../../src/di/src/decorator/Inject.ts","name":null,"original":{"line":49,"column":57},"generated":{"line":1,"column":505}},{"source":"../../../../src/di/src/decorator/Inject.ts","name":null,"original":{"line":49,"column":64},"generated":{"line":1,"column":508}},{"source":"../../../../src/di/src/decorator/Inject.ts","name":null,"original":{"line":61,"column":29},"generated":{"line":1,"column":527}},{"source":"../../../../src/di/src/decorator/Inject.ts","name":null,"original":{"line":64,"column":11},"generated":{"line":1,"column":530}},{"source":"../../../../src/di/src/decorator/Inject.ts","name":null,"original":{"line":67,"column":0},"generated":{"line":1,"column":533}},{"source":"../../../../src/di/src/decorator/Inject.ts","name":null,"original":{"line":67,"column":16},"generated":{"line":1,"column":542}},{"source":"../../../../src/di/src/decorator/Inject.ts","name":null,"original":{"line":68,"column":4},"generated":{"line":1,"column":544}},{"source":"../../../../src/di/src/decorator/Inject.ts","name":null,"original":{"line":69,"column":4},"generated":{"line":1,"column":547}},{"source":"../../../../src/di/src/decorator/Inject.ts","name":null,"original":{"line":69,"column":4},"generated":{"line":1,"column":551}},{"source":"../../../../src/di/src/decorator/Inject.ts","name":null,"original":{"line":69,"column":43},"generated":{"line":1,"column":553}},{"source":"../../../../src/di/src/decorator/Inject.ts","name":null,"original":{"line":69,"column":43},"generated":{"line":1,"column":563}},{"source":"../../../../src/di/src/decorator/Inject.ts","name":null,"original":{"line":69,"column":43},"generated":{"line":1,"column":570}},{"source":"../../../../src/di/src/decorator/Inject.ts","name":null,"original":{"line":69,"column":43},"generated":{"line":1,"column":578}},{"source":"../../../../src/di/src/decorator/Inject.ts","name":null,"original":{"line":69,"column":43},"generated":{"line":1,"column":582}},{"source":"../../../../src/di/src/decorator/Inject.ts","name":null,"original":{"line":69,"column":43},"generated":{"line":1,"column":592}},{"source":"../../../../src/di/src/decorator/Inject.ts","name":null,"original":{"line":69,"column":43},"generated":{"line":1,"column":595}},{"source":"../../../../src/di/src/decorator/Inject.ts","name":null,"original":{"line":69,"column":43},"generated":{"line":1,"column":605}},{"source":"../../../../src/di/src/decorator/Inject.ts","name":null,"original":{"line":69,"column":43},"generated":{"line":1,"column":608}},{"source":"../../../../src/di/src/decorator/Inject.ts","name":null,"original":{"line":69,"column":43},"generated":{"line":1,"column":610}},{"source":"../../../../src/di/src/decorator/Inject.ts","name":null,"original":{"line":69,"column":61},"generated":{"line":1,"column":628}},{"source":"../../../../src/di/src/decorator/Inject.ts","name":null,"original":{"line":72,"column":11},"generated":{"line":1,"column":638}},{"source":"../../../../src/di/src/decorator/Inject.ts","name":null,"original":{"line":72,"column":11},"generated":{"line":1,"column":645}},{"source":"../../../../src/di/src/decorator/Inject.ts","name":null,"original":{"line":72,"column":20},"generated":{"line":1,"column":654}},{"source":"../../../../src/di/src/decorator/Inject.ts","name":null,"original":{"line":72,"column":64},"generated":{"line":1,"column":656}},{"source":"../../../../src/di/src/decorator/Inject.ts","name":null,"original":{"line":72,"column":94},"generated":{"line":1,"column":658}},{"source":"../../../../src/di/src/decorator/Inject.ts","name":null,"original":{"line":74,"column":49},"generated":{"line":1,"column":661}},{"source":"../../../../src/di/src/decorator/Inject.ts","name":null,"original":{"line":74,"column":19},"generated":{"line":1,"column":680}},{"source":"../../../../src/di/src/decorator/Inject.ts","name":null,"original":{"line":77,"column":12},"generated":{"line":1,"column":682}},{"source":"../../../../src/di/src/decorator/Inject.ts","name":null,"original":{"line":77,"column":12},"generated":{"line":1,"column":684}},{"source":"../../../../src/di/src/decorator/Inject.ts","name":null,"original":{"line":77,"column":31},"generated":{"line":1,"column":703}},{"source":"../../../../src/di/src/decorator/Inject.ts","name":null,"original":{"line":78,"column":16},"generated":{"line":1,"column":744}},{"source":"../../../../src/di/src/decorator/Inject.ts","name":null,"original":{"line":79,"column":16},"generated":{"line":1,"column":746}},{"source":"../../../../src/di/src/decorator/Inject.ts","name":null,"original":{"line":80,"column":16},"generated":{"line":1,"column":748}},{"source":"../../../../src/di/src/decorator/Inject.ts","name":null,"original":{"line":81,"column":16},"generated":{"line":1,"column":750}},{"source":"../../../../src/di/src/decorator/Inject.ts","name":null,"original":{"line":87,"column":12},"generated":{"line":1,"column":753}},{"source":"../../../../src/di/src/decorator/Inject.ts","name":null,"original":{"line":87,"column":12},"generated":{"line":1,"column":755}},{"source":"../../../../src/di/src/decorator/Inject.ts","name":null,"original":{"line":87,"column":31},"generated":{"line":1,"column":774}},{"source":"../../../../src/di/src/decorator/Inject.ts","name":null,"original":{"line":88,"column":16},"generated":{"line":1,"column":810}},{"source":"../../../../src/di/src/decorator/Inject.ts","name":null,"original":{"line":89,"column":16},"generated":{"line":1,"column":812}},{"source":"../../../../src/di/src/decorator/Inject.ts","name":null,"original":{"line":90,"column":16},"generated":{"line":1,"column":814}},{"source":"../../../../src/di/src/decorator/Inject.ts","name":null,"original":{"line":91,"column":16},"generated":{"line":1,"column":816}},{"source":"../../../../src/di/src/decorator/Inject.ts","name":null,"original":{"line":92,"column":16},"generated":{"line":1,"column":818}},{"source":"../../../../src/di/src/decorator/Inject.ts","name":null,"original":{"line":6,"column":13},"generated":{"line":1,"column":822}},{"source":"../../../../src/di/src/decorator/Inject.ts","name":null,"original":{"line":6,"column":13},"generated":{"line":1,"column":830}},{"source":"../../../../src/di/src/decorator/Inject.ts","name":null,"original":{"line":6,"column":45},"generated":{"line":1,"column":860}},{"source":"../../../../src/di/src/decorator/Inject.ts","name":null,"original":{"line":6,"column":52},"generated":{"line":1,"column":867}},{"source":"../../../../src/di/src/decorator/Inject.ts","name":null,"original":{"line":18,"column":0},"generated":{"line":1,"column":878}},{"source":"../../../../src/di/src/decorator/Inject.ts","name":null,"original":{"line":18,"column":0},"generated":{"line":1,"column":886}},{"source":"../../../../src/di/src/decorator/Inject.ts","name":null,"original":{"line":18,"column":0},"generated":{"line":1,"column":926}},{"source":"../../../../src/di/src/decorator/Inject.ts","name":null,"original":{"line":26,"column":0},"generated":{"line":1,"column":928}},{"source":"../../../../src/di/src/decorator/Inject.ts","name":null,"original":{"line":26,"column":0},"generated":{"line":1,"column":936}},{"source":"../../../../src/di/src/decorator/Inject.ts","name":null,"original":{"line":26,"column":0},"generated":{"line":1,"column":967}},{"source":"../../../../src/di/src/decorator/Inject.ts","name":null,"original":{"line":67,"column":0},"generated":{"line":1,"column":969}},{"source":"../../../../src/di/src/decorator/Inject.ts","name":null,"original":{"line":67,"column":0},"generated":{"line":1,"column":977}},{"source":"../../../../src/di/src/decorator/Inject.ts","name":null,"original":{"line":67,"column":0},"generated":{"line":1,"column":984}}],"sources":{"../../../../src/di/src/decorator/Inject.ts":"import \"reflect-metadata\";\nimport {InjectionProfile, InjectionStrategy} from \"../BeanFactory\";\nimport {ComponentReflector} from \"../ComponentReflector\";\nimport {ApplicationContext} from \"../ApplicationContext\";\n\nexport const INJECT_DECORATOR_METADATA_KEY = Symbol(\"@Inject\");\n\nexport interface ArgumentInjectionMetadata {\n    index: number;\n    injectionReference: InjectionReference;\n    injectionStrategy: InjectionStrategy;\n}\n\nexport interface ArgumentsInjectionMetaData {\n    arguments: Array<ArgumentInjectionMetadata>;\n}\n\nexport function createDefaultArgumentsInjectionMetadata() {\n    return {\n        arguments: []\n    }\n}\n\nexport declare type InjectionReference = any | Function;\n\nexport function resolveInjectionParameterValue(\n    argumentsInjectionMetaData: ArgumentsInjectionMetaData,\n    index: number,\n    isTestComponent: boolean\n) {\n\n    let injectionValue: any;\n\n    if (!argumentsInjectionMetaData.arguments[index]) return;\n\n    const injectionReference: InjectionReference =\n        argumentsInjectionMetaData.arguments[index].injectionReference;\n\n    if (typeof injectionReference !== 'undefined') {\n\n        if (typeof injectionReference === 'function') {\n\n            if (ComponentReflector.isComponent(injectionReference)) {\n\n                // it is not a InjectBeanFactory, just use the instance\n                injectionValue = ApplicationContext.getInstance().getBean(\n                    injectionReference,\n                    isTestComponent ? InjectionProfile.TEST : InjectionProfile.DEFAULT,\n                    argumentsInjectionMetaData.arguments[index].injectionStrategy,\n                );\n\n            } else {\n\n                // case: function is not a InjectBeanFactory NOR registered bean -> inject function reference\n                injectionValue = injectionReference;\n            }\n\n        } else {\n\n            // use the value directly (any value case)\n            injectionValue = injectionReference;\n        }\n    }\n    return injectionValue;\n}\n\nexport function Inject(\n    injectionReference?: InjectionReference,\n    injectionStrategy: InjectionStrategy = InjectionStrategy.SINGLETON\n) {\n\n    return function(targetClassInstanceOrCtor: Object|Function, propertyKey: string | symbol, argumentIndex: number) {\n\n        if (typeof targetClassInstanceOrCtor === 'function') {\n\n            // case: param on constructor function\n            ComponentReflector.setConstructorArgumentsInjectionMetadata(\n                targetClassInstanceOrCtor,\n                argumentIndex,\n                injectionReference,\n                injectionStrategy\n            );\n\n        } else {\n\n            // case: param on method\n            ComponentReflector.setMethodArgumentsInjectionMetadata(\n                targetClassInstanceOrCtor,\n                argumentIndex,\n                propertyKey,\n                injectionReference,\n                injectionStrategy\n            );\n        }\n    }\n}"},"lineCount":null}},"hash":"ab6c73dff4244f2c6de5b902cf1f4ed8","cacheData":{"env":{}}}